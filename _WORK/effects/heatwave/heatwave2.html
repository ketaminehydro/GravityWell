<!DOCTYPE html>
<html>
<head>
    <title>Heatwave Effect</title>
</head>
<body>
    <canvas id="heatwaveCanvas"></canvas>
    <script>
        const canvas = document.getElementById("heatwaveCanvas");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const text = "Game Over";
        const fontSize = 100;
        const font = `${fontSize}px Arial`;

        const offscreenCanvas = document.createElement("canvas");
        const offscreenCtx = offscreenCanvas.getContext("2d");
        offscreenCanvas.width = canvas.width;
        offscreenCanvas.height = canvas.height;

        // Function to distort the text with a heatwave effect
        function distortText() {
            offscreenCtx.clearRect(0, 0, offscreenCanvas.width, offscreenCanvas.height);

            // Create a displacement map
            const displacementMap = new Image();
            displacementMap.src = "displacementMap.png"; // Replace with your own displacement map image

            displacementMap.onload = () => {
                offscreenCtx.save();

                // Apply the displacement map as a global composite operation
                offscreenCtx.globalCompositeOperation = "displace";
                offscreenCtx.drawImage(displacementMap, 0, 0, offscreenCanvas.width, offscreenCanvas.height);

                // Draw the text on the distorted canvas
                offscreenCtx.font = font;
                offscreenCtx.fillStyle = "white";
                offscreenCtx.fillText(text, offscreenCanvas.width / 2, offscreenCanvas.height / 2);

                offscreenCtx.restore();

                // Clear the visible canvas and draw the distorted text onto it
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.drawImage(offscreenCanvas, 0, 0);
            };
        }

        // Load and distort the text
        distortText();

        // Optional: Add animation loop for continuous distortion
        function animate() {
            requestAnimationFrame(animate);
            distortText();
        }

        // Uncomment this line if you want continuous animation
        animate();
    </script>
</body>
</html>
